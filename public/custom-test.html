<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatEmbed Custom Backend Test</title>
</head>
<body>
    <h1>ChatEmbed Custom Backend Test</h1>
    <p>This page tests the ChatEmbed with a custom backend implementation.</p>
    
    <!-- ChatEmbed will be loaded here -->
    
    <script type="module">
        // Import the ChatEmbed library
        import Chatbot from "/dist/web.js"
        
        // Add debugging to console
        console.log('Initializing ChatEmbed with custom backend...');
        
        // Initialize the chatbot with custom backend
        try {
            Chatbot.init({
                // Even though we don't use chatflowid in the custom backend, the Bot component still requires it
                chatflowid: "custom", // Add a dummy chatflowid to satisfy the Bot component
                apiHost: "https://n8n.khiemfle.com/webhook/c11f7ca8-a60a-4ed1-a858-e86e04abe0ea", // This is the base URL for your custom backend
                backendProvider: "custom", // Use the custom backend provider
                theme: {
                    chatWindow: {
                        welcomeMessage: "Hello! I'm using a custom backend implementation. How can I help you today?"
                    },
                    footer: {
                        showFooter: false  // Hide the footer completely
                    }
                },
                // Add debug mode to see more logs
                debug: true
            });
            console.log('ChatEmbed initialized successfully!');
        } catch (error) {
            console.error('Error initializing ChatEmbed:', error);
        }
    </script>
</body>
</html>
